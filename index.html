<!DOCTYPE HTML><html>
<head>
<title>PhoneGap Showcase</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="http://code.jquery.com/mobile/1.0/jquery.mobile-1.0.min.css" type="text/css" media="all">
<link rel="stylesheet" href="http://code.jquery.com/mobile/1.0/jquery.mobile.structure-1.0.min.css" type="text/css" media="all">
</head>
<body>
     <div data-role="page">
          <div data-role="header">
               <h1>Camera Showcase</h1>
          </div>
          <div data-role="content">
              <a id="camera_base64" href="#" data-role="button">Camera(Base64)</a>
            <a id="camera_uri" href="#" data-role="button">Camera(URI)</a>
            <a id="camera_library" href="#" data-role="button">Photo Library</a>
             <img style="display:none;width:100%" id="camera_pic" src="" />
          </div>
     </div>
</body>
<script type="text/javascript" charset="utf-8" src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
<script type="text/javascript" charset="utf-8" src="http://code.jquery.com/mobile/1.0/jquery.mobile-1.0.min.js"></script>
<script type="text/javascript" charset="utf-8" src="cordova-2.2.0.js"></script>
<script type="text/javascript">
$(function(){
     document.addEventListener("deviceready",
          function(){
              $('#camera_base64').attr('href', 'javascript:getCameraBase64()');
              $('#camera_uri').attr('href', 'javascript:getCameraURI()');
              $('#camera_library').attr('href', 'javascript:getPhotoURI()');
         },
         false);
})
// カメラから画像を取得して、Base64形式で取得する
function getCameraBase64(){
     navigator.camera.getPicture(
          function(imageData){
               // cameraSuccess
               $('#camera_pic')
                   .css('display', 'block')
                   .attr('src', 'data:image/jpeg;base64,' + imageData); // 引数で渡されたBase64形式の画像を表示
          },
          function(message){
               // cameraError
               alert(message); // コンテンツを取得できなかった場合のメッセージを表示
          },
          {
               quality : 75,
               destinationType : Camera.DestinationType.DATA_URL, //取得した画像をBase64形式の文字列で取得する
               sourceType : Camera.PictureSourceType.CAMERA, // 画像はカメラから取得する
          });
};
// カメラから画像を取得して、保存された画像のURIを取得する
function getCameraURI(){
    navigator.camera.getPicture(
        function(imageURI){
            // cameraSuccess
            $('#camera_pic')
                 .css('display', 'block')
                 .attr('src', imageURI); // 取得した画像のURIを指定して画像を表示
        },
        function(message){
            // cameraError
            alert(message); // コンテンツを取得できなかった場合のメッセージを表示
        },
        {
            quality : 75,
            destinationType : Camera.DestinationType.FILE_URI, //取得した画像のURIを取得する
            sourceType : Camera.PictureSourceType.CAMERA, // 画像はカメラから取得する
        });
};
// ギャラリーなどから選択した画像のURIを取得する
function getPhotoURI(){
    navigator.camera.getPicture(
        function(imageURI){
            // cameraSuccess
            $('#camera_pic')
                 .css('display', 'block')
                 .attr('src', imageURI); // 取得した画像のURIを指定して画像を表示
        },
        function(message){
            // cameraError
            alert(message); // コンテンツを取得できなかった場合のメッセージを表示
        },
        {
            quality : 75,
            destinationType : Camera.DestinationType.FILE_URI, //選択した画像のURIを取得する
            sourceType : Camera.PictureSourceType.PHOTOLIBRARY, //コンテンツを選択して取得
        });
};
</script>
</html>